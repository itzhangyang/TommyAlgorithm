##åŒºé—´é€‰å–é—®é¢˜

###åœºæ™¯æè¿°ï¼šä»ä¸€å †åŒºé—´ä¸­é€‰æ‹©å¤šä¸ªä¸é‡å çš„åŒºé—´

###æ’åºé€»è¾‘ï¼š æŒ‰ç…§æ—¶é—´ç»“æŸé¡ºåºæ’åº

###é€‰æ‹©é€»è¾‘ï¼š æ¯æ¬¡é€‰æ‹©ä¸ä¸å‰ä¸€ä¸ªé€‰ä¸­åŒºé—´é‡å å¹¶ä¸”æœ€æ—©ç»“æŸçš„åŒºé—´

###ä»£ç å¥—è·¯

```java
Arrays.sort(intervals,(a,b)->a[1]-b[1]);
int end = Integer.MIN_VALUE;
int count =0;

for (int[] interval : intervals){
  if (interval[0] >= end){
    end = interval[1];
    count++;
  }
}
```

#### æ³¨æ„äº‹é¡¹

- ä¸è¦è´ªå¿ƒæœ€æ—©å¼€å§‹çš„ï¼Œè¦é€‰æ‹©æœ€æ—©ç»“æŸçš„
- æœ¬è´¨æ˜¯å±€éƒ¨ä¿è¯å…¨å±€æœ€å¤šé€‰æ‹©

###Leetcode 435 æ— é‡å åŒºé—´-æ´»åŠ¨é€‰æ‹©

ç»™å®šä¸€ç»„åŒºé—´ `[start, end]`ï¼Œæ‰¾åˆ°**æœ€å°æ•°é‡çš„åŒºé—´éœ€è¦ç§»é™¤**ï¼Œä½¿å¾—å‰©ä½™åŒºé—´**äº’ä¸é‡å **ã€‚

####æ ¸å¿ƒæ€æƒ³

ä¸å…¶ç›´æ¥æ‰¾è¦åˆ é™¤çš„åŒºé—´ï¼Œä¸å¦‚æ‰¾å‡º**æœ€å¤šèƒ½ä¿ç•™çš„ã€ä¸é‡å çš„åŒºé—´æ•°ç›®**ï¼Œç„¶åç”¨æ€»æ•°å‡å»è¿™ä¸ªæ•°é‡ï¼Œå³ä¸ºè¦åˆ é™¤çš„åŒºé—´æ•°ã€‚

è¿™å°±æ˜¯ç»å…¸çš„**åŒºé—´è°ƒåº¦é—®é¢˜ï¼ˆInterval Schedulingï¼‰**ï¼Œç”¨**è´ªå¿ƒç®—æ³•**å¯ä»¥é«˜æ•ˆæ±‚è§£ã€‚

####åŸºæœ¬åŸç†-è´ªå¿ƒç­–ç•¥

è´ªå¿ƒç®—æ³•é€‚ç”¨äºå±€éƒ¨æœ€ä¼˜è§£èƒ½å¤Ÿæ¨å‡ºå…¨å±€æœ€ä¼˜è§£çš„åœºæ™¯ã€‚

è¿™é‡Œçš„ç­–ç•¥æ˜¯ï¼šæ¯æ¬¡é€‰æ‹©`æœ€æ—©ç»“æŸ`çš„åŒºé—´ï¼Œè¿™æ ·å‰©ä¸‹çš„å¯é€‰ç©ºé—´æœ€å¤šï¼Œä»è€Œç•™ä¸‹æ›´å¤šç©ºé—´ç»™åé¢çš„ç©ºé—´ã€‚

####æ’åºé€»è¾‘

å¯¹æ‰€æœ‰çš„åŒºé—´æŒ‰ç…§`end`ä»å°åˆ°å¤§è¿›è¡Œæ’åºã€‚

ç†ç”±ï¼š**ç»“æŸæ—¶é—´***è¶Šæ—©ï¼Œåé¢çš„å¯é€‰åŒºé—´è¶Šå¤š->æé«˜ä¿ç•™åŒºé—´æ•°

```java
Arrays.sort(intervals,(a,b)->a[1]-b[1]);
```

####è´ªå¿ƒçš„é€‰æ‹©é€»è¾‘

éå†æ’åºå¥½çš„åŒºé—´æ•°ç»„ï¼š

- åˆå§‹:`end=Integer.MAX_VALUE`,è¡¨ç¤ºä¸Šä¸€ä¸ªè¢«é€‰æ‹©åŒºé—´çš„ç»“æŸæ—¶é—´
- æ¯æ¬¡åˆ¤æ–­å½“å‰åŒºé—´çš„`start`æ˜¯å¦>= `end`
  - æ˜¯ï¼šå¯ä»¥é€‰æ‹©è¿™ä¸ªåŒºé—´ï¼šæ›´æ–°`end`
  - å¦ï¼šå‘ç”Ÿé‡å ï¼Œä¸èƒ½é€‰ï¼Œå¿…é¡»åˆ é™¤å½“å‰åŒºé—´ï¼Œ`count++`

æœ€ç»ˆåˆ é™¤çš„æ•°å€¼å°±æ˜¯æ€»åŒºé—´æ•°-ä¿ç•™çš„ä¸é‡å åŒºé—´æ•°

##### ä»£ç å®ç°

```java
   public int eraseOverlapIntervals(int[][] intervals) {
        int n = intervals.length;
        //è´ªå¿ƒç®—æ³•ç­–ç•¥
        //æ’åºï¼ŒæŒ‰ç…§ç»“æŸæ—¶é—´æ’åº
        Arrays.sort(intervals, (a,b)->a[1]-b[1]);
       int count = 1; // è‡³å°‘èƒ½ä¿ç•™ä¸€ä¸ªåŒºé—´
       int end = intervals[0][1]; // å½“å‰é€‰æ‹©çš„åŒºé—´çš„ç»“æŸæ—¶é—´

        for (int i = 1; i < intervals.length; i++) {
            if (intervals[i][0] >= end) {//æ³¨æ„æ˜¯>=
                // ä¸é‡å ï¼Œå¯ä»¥ä¿ç•™
                count++;
                end = intervals[i][1];
            }
            // å¦åˆ™é‡å ï¼Œä¸èƒ½é€‰ï¼Œè·³è¿‡
        }

        return intervals.length - count; // æ€»æ•° - èƒ½ä¿ç•™çš„æ•°é‡
    }
```

###Leetcode 452:æœ€å°‘å¼“ç®­æ•°

åœ¨äºŒç»´å¹³é¢ä¸Šï¼Œæœ‰è®¸å¤šæ°”çƒï¼Œç”¨æ•°ç»„ `points[i] = [x_start, x_end]` è¡¨ç¤ºæ¯ä¸ªæ°”çƒæ°´å¹³ç›´å¾„çš„èµ·ç‚¹å’Œç»ˆç‚¹ã€‚

å¼“ç®­å¯ä»¥å‚ç›´å‘å°„ï¼Œå¹¶ä¸”åªè¦ç»è¿‡æŸä¸ªåŒºé—´ `[x_start, x_end]`ï¼Œå°±èƒ½å¼•çˆ†è¿™ä¸ªæ°”çƒã€‚

æ±‚è‡³å°‘éœ€è¦å¤šå°‘æ”¯ç®­ï¼Œæ‰èƒ½å¼•çˆ†æ‰€æœ‰æ°”çƒã€‚

####é—®é¢˜æœ¬è´¨

- è¿™æ˜¯ä¸€ä¸ª**åŒºé—´é‡å é—®é¢˜**ï¼Œæˆ‘ä»¬éœ€è¦ç”¨å°½é‡å°‘çš„ç®­ï¼ˆ**é€‰æ‹©å°½é‡å¤šçš„é‡å åŒºé—´**ï¼‰å°„ç©¿æ‰€æœ‰çš„æ°”çƒ

- ä¸**åˆå¹¶åŒºé—´**ç±»ä¼¼ï¼Œä½†æ˜¯ç›®æ ‡ä»**åˆå¹¶**ï¼Œè½¬åŒ–ä¸º**æœ€å°åˆ’åˆ†æ•°**

####æ ¸å¿ƒæ€æƒ³-è´ªå¿ƒç®—æ³•

- æ¯æ¬¡å°½å¯èƒ½è®©ä¸€åªç®­è¦†ç›–æœ€å¤šçš„æ°”çƒ
- ä¼˜å…ˆè€ƒè™‘å³è¾¹ç•Œæœ€å°çš„æ°”çƒ - å› ä¸ºè¶Šæ˜¯é å·¦çš„æ°”çƒï¼Œè¶Šæ˜¯éœ€è¦ç´§æ€¥éœ€è¦å¤„ç†
- å½“å½“å‰çš„æ°”çƒçš„èµ·ç‚¹åœ¨ä¸Šä¸€ä¸ªç®­çš„å°„ç¨‹ä¹‹å¤–æ—¶ï¼Œéœ€è¦ä¸€åªæ–°ç®­

####æ’åºé€»è¾‘-æŒ‰ç…§å³è¾¹ç•Œä»å°åˆ°å¤§æ’åº

- å°†æ‰€æœ‰æ°”çƒæŒ‰ç…§**å³è¾¹ç•Œ**ä»å°åˆ°å¤§æ’åº
- ç†ç”±ï¼šå…ˆå¤„ç†ç»“æŸæœ€æ—©çš„æ°”çƒï¼Œä¿è¯ç®­çš„é€‰æ‹©å°½é‡ä¿å®ˆï¼Œè¦†ç›–èŒƒå›´æœ€å¤§

####é€‰æ‹©é€»è¾‘

- åˆå§‹åŒ–ç¬¬ä¸€æ”¯ç®­å°„åœ¨ç¬¬ä¸€ä¸ªæ°”çƒçš„è¾¹ç•Œä¸Š
- éå†æ‰€æœ‰æ°”çƒï¼Œå¦‚æœå½“å‰æ°”çƒçš„å·¦è¾¹ç•Œ > å½“å‰ç®­çš„å°„å‡»ä½ç½®ï¼Œè¯´æ˜éœ€è¦ä¸€åªæ–°ç®­ï¼Œæ›´æ–°ç®­çš„å°„å‡»ä½ç½®ä¸ºå½“å‰æ°”çƒçš„å³è¾¹ç•Œ

##### Case 1: `curr[0] <= prev[1]`

The current balloon starts before or at where our arrow is.

This is the "good" case. 

The arrow we used for the `prev` group of balloons can **also** burst this `curr` balloon.

###### Do we need a new arrow?

No. So, `ans` doesn't change.

######  Should we update `prev` to `curr`?

**NO.** And this is the most important part.

Our **current arrow** is at `prev[1]`. 

Since we sorted by end points, `prev[1]` is **less than or equal** to `curr[1]`

The position `prev[1]` is a "tighter" or more demanding position.

By keeping `prev` as it is, we are keeping our arrow further to the left, **maximizing its chance to hit even more balloons**.

 If we moved the arrow to `curr[1]`, we might miss a future balloon that the original arrow at `prev[1]` could have hit.

##### Case 2: `curr[0] > prev[1]`

The current balloon starts *after* our arrow's position

This is the "bad" case.

Our last arrow at `prev[1]` completely misses the current balloon. 

We have no choice.

###### Do we need a new arrow? 

Yes. So, we must do `ans += 1`.

###### Should we update `prev`? 

**YES.** We've just started a new group of balloons that requires a new arrow. 

The balloon `curr` is the first member of this new group. 

So, we make it the new representative by setting `prev = curr`. 

This effectively "moves" our arrow position to `curr[1]` to handle this new group and any subsequent ones that overlap with it.

####å®ç°ä»£ç 

```java
   public int findMinArrowShots(int[][] points) {
        if (points.length ==0) return 0;
        // æ’åºï¼ŒæŒ‰ç…§æ°”çƒçš„endæ’åº
        Arrays.sort(points,(a,b)->Integer.compare(a[1], b[1]));
        int arrows = 1;
        int n = points.length;
        int end = points[0][1];

        for (int i=1;i < n;i++){
            int[] point = points[i];
            //å¦‚æœå’Œä¸Šä¸€ä¸ªåŒºé—´ä¸é‡å ï¼Œå¼“ç®­æ ‘+1
            if (point[0] > end){
                arrows +=1;
                end = point[1];
            }
          //å¦‚æœå½“å‰åŒºé—´å’Œä¸Šä¸€ä¸ªåŒºé—´é‡å ï¼Œé‚£ä¹ˆç°åœ¨æœ€åä¸€æ”¯ç®­è¿˜ç•™åœ¨prev[1]ä½ç½®ä¸Š
          //å› æ­¤prevæŒ‡é’ˆä¸å˜
        }

        return arrows;

    }
```

####æ³¨æ„äº‹é¡¹

**è¾¹ç•Œå€¼ç±»å‹**ï¼šé¢˜ç›®ç»™çš„æ˜¯ `int[][]`ï¼Œä½†æœ‰äº›æ•°æ®å¯èƒ½ä¼šè¶Šç•Œï¼ˆå¦‚æµ‹è¯•ç”¨ä¾‹å¯èƒ½å«æœ‰ Â±10^9ï¼‰ï¼Œ**å› æ­¤éœ€è¦æ³¨æ„æ’åºæ—¶ä¸è¦æº¢å‡ºï¼Œç”¨ `Integer.compare()` æ›¿ä»£ `a[1] - b[1]`**ã€‚

**æ’åºç¨³å®šæ€§**ï¼šä½¿ç”¨ Java çš„ `Arrays.sort()` æ—¶ï¼Œæ¯”è¾ƒå™¨ä¸€å®šä½¿ç”¨ `Integer.compare` å½¢å¼ï¼Œå¦åˆ™å¯èƒ½é€ æˆé”™è¯¯æ’åºã€‚

**ç©ºè¾“å…¥å¤„ç†**ï¼šå¦‚æœ `points.length == 0`ï¼Œç›´æ¥è¿”å› 0ã€‚

####ç»éªŒæ€»ç»“

| é¡¹ç›®     | å†…å®¹                                 |
| -------- | ------------------------------------ |
| ç®—æ³•ç±»å‹ | è´ªå¿ƒ                                 |
| ç±»æ¯”é¢˜ç›® | 56. åˆå¹¶åŒºé—´ã€435. æ— é‡å åŒºé—´        |
| é€šç”¨ç­–ç•¥ | æ’åº + å±€éƒ¨æœ€ä¼˜é€‰æ‹©                  |
| æ˜“é”™ç‚¹   | æ’åºæº¢å‡ºï¼Œè¾¹ç•Œæ¡ä»¶                   |
| åº”ç”¨åœºæ™¯ | åŒºé—´è°ƒåº¦ã€åŒºé—´è¦†ç›–ã€æœ€å°‘èµ„æºåˆ†é…é—®é¢˜ |

##åŒºé—´åˆå¹¶é—®é¢˜

###åŸºæœ¬å¤„ç†å¥—è·¯

| Item     | Value                        | Comments |
| -------- | ---------------------------- | -------- |
| åœºæ™¯æè¿° | åˆå¹¶æ‰€æœ‰é‡å åŒºé—´             |          |
| æ’åºé€»è¾‘ | æŒ‰ç…§**èµ·ç‚¹**å‡åº             |          |
| é€‰æ‹©é€»è¾‘ | éå†åˆ¤æ–­ä¸ä¸Šä¸€ä¸ªåŒºé—´æ˜¯å¦é‡å  |          |
| Leetcode | 56,986                       |          |

###ä»£ç å¥—è·¯æ¨¡æ¿

```java
Arrays.sort(intervals,(a,b)->a[0]-b[0]);
List<int[]> res = new ArrayList<>();

for (int[] interval : intervals){
  // å¦‚æœå½“å‰åŒºé—´å’Œä¸Šä¸€ä¸ªåŒºé—´æ²¡æœ‰é‡å ï¼Œå°†å½“å‰åŒºé—´åŠ å…¥ç»“æœåˆ—è¡¨
  if (res.isEmpty() || res.get(res.size()-1)[1] < interval[0]){
    res.addï¼ˆintervalï¼‰;
  }else{
    //å¦åˆ™ï¼Œå°†ä¸Šä¸€ä¸ªåŒºé—´çš„ç»ˆç‚¹è®¾ç½®ä¸ºå½“å‰åŒºé—´çš„ç»ˆç‚¹
    int prev = res.get(res.size()-1);
    prev[1] = max(current[1],prev[1]);
  }
}
```

###æ³¨æ„äº‹é¡¹

- ä¸æ±‚æœ€å¤š/æœ€å°‘ï¼Œä»…ä»…åˆå¹¶æ‰€æœ‰é‡å çš„åŒºé—´
- é€‚ç”¨äºæ—¶é—´è¡¨åˆå¹¶ç­‰åœºæ™¯

###Leetcode 56 åŒºé—´åˆå¹¶

ä»¥æ•°ç»„ `intervals` è¡¨ç¤ºè‹¥å¹²ä¸ªåŒºé—´çš„é›†åˆï¼Œå…¶ä¸­å•ä¸ªåŒºé—´ä¸º `intervals[i] = [starti, endi]` ã€‚è¯·ä½ åˆå¹¶æ‰€æœ‰é‡å çš„åŒºé—´ï¼Œå¹¶è¿”å› *ä¸€ä¸ªä¸é‡å çš„åŒºé—´æ•°ç»„ï¼Œè¯¥æ•°ç»„éœ€æ°å¥½è¦†ç›–è¾“å…¥ä¸­çš„æ‰€æœ‰åŒºé—´* ã€‚

##### ä»£ç å®ç°

```java
    //è´ªå¿ƒç®—æ³•
    public int[][] merge(int[][] intervals) {
        //æ’åºï¼ŒæŒ‰ç…§åŒºé—´èµ·ç‚¹æ’åº
        Arrays.sort(intervals,(a,b)->a[0]-b[0]);
        List<int[]> res = new ArrayList<>();

        //é€‰æ‹©è¿‡ç¨‹
        for (int[] current : intervals){
            // åˆ—è¡¨ä¸ºç©ºï¼Œç›´æ¥åŠ å…¥
            if (res.isEmpty()){
                res.add(current);
                continue;
            }
          
            int[] prev = res.get(res.size()-1);
          	//å’Œä¸Šä¸€ä¸ªæ²¡æœ‰é‡å ï¼Œç›´æ¥åŠ å…¥
            if (current[0] > prev[1]){
                res.add(current);
                continue;
            }
          	// å’Œä¸Šä¸€ä¸ªåŒºé—´å­˜åœ¨é‡å ï¼Œé‡æ–°è®¾ç½®ä¸Šä¸€ä¸ªåŒºé—´çš„ç»ˆç‚¹
            // ä¸Šä¸€ä¸ªåŒºé—´çš„ç»ˆç‚¹ä¸ºmax(prev[1],curr[1])
            prev[1] = Math.max(current[1], prev[1]);
        }
				//ç”Ÿæˆç»“æœ
        int[][] arr = new int[res.size()][2];
        for (int i=0; i< res.size();i++){
            arr[i] = res.get(i);
        }
        return arr;
    }
```

###Leetcode 986 åŒºé—´åˆ—è¡¨çš„äº¤é›†

ç»™å®šä¸¤ä¸ªç”±ä¸€äº› **é—­åŒºé—´** ç»„æˆçš„åˆ—è¡¨ï¼Œ`firstList` å’Œ `secondList` ï¼Œå…¶ä¸­ `firstList[i] = [starti, endi]` è€Œ `secondList[j] = [startj, endj]` ã€‚

æ¯ä¸ªåŒºé—´åˆ—è¡¨éƒ½æ˜¯æˆå¯¹ **ä¸ç›¸äº¤** çš„ï¼Œå¹¶ä¸” **å·²ç»æ’åº** ã€‚

è¿”å›è¿™ **ä¸¤ä¸ªåŒºé—´åˆ—è¡¨çš„äº¤é›†** ã€‚

å½¢å¼ä¸Šï¼Œ**é—­åŒºé—´** `[a, b]`ï¼ˆå…¶ä¸­ `a <= b`ï¼‰è¡¨ç¤ºå®æ•° `x` çš„é›†åˆï¼Œè€Œ `a <= x <= b` ã€‚

ä¸¤ä¸ªé—­åŒºé—´çš„ **äº¤é›†** æ˜¯ä¸€ç»„å®æ•°ï¼Œè¦ä¹ˆä¸ºç©ºé›†ï¼Œè¦ä¹ˆä¸ºé—­åŒºé—´ã€‚ä¾‹å¦‚ï¼Œ`[1, 3]` å’Œ `[2, 4]` çš„äº¤é›†ä¸º `[2, 3]` ã€‚

####é—®é¢˜åˆ†æ

#####å¦‚ä½•åˆ¤æ–­ä¸¤ä¸ªåŒºé—´æ˜¯å¦å­˜åœ¨äº¤é›†ï¼Ÿ

```java
(first[0] <= second[1] && first[1] >= second[0])
            || (second[0] <= first[1] && second[1]>= first[0])
```

#####å¦‚ä½•é‡‡ç”¨åŒæŒ‡é’ˆåŒæ—¶éå†å’Œæ¯”è¾ƒä¸¤ä¸ªæ•°ç»„ï¼Ÿ

````java
while(i < m && j < n){
  //...ä¸šåŠ¡é€»è¾‘å¤„ç†
  
  /****/
  if (/*åº”è¯¥ç§»åŠ¨æŒ‡é’ˆi*/){
    i++;
  }else{
    j++;
  }
}
````

#### æ ¸å¿ƒæ€æƒ³å’Œå¥—è·¯

- è®¾ç½®ä¸¤ä¸ªæŒ‡é’ˆfirst å’Œ secondï¼Œåˆ†åˆ«æŒ‡å‘ä¸¤ä¸ªåˆ—è¡¨

- å¤„ç†åŒºé—´é‡å çš„æƒ…å†µ

  å¦‚æœæœ‰é‡å ï¼Œç”Ÿæˆä¸¤ä¸ªåŒºé—´çš„é‡å ï¼Œå¹¶åŠ å…¥ç»“æœåˆ—è¡¨

- å¤„ç†æŒ‡é’ˆç§»åŠ¨ï¼Œå“ªä¸ªåŒºé—´å…ˆç»“æŸåˆ™å‘å‰ç§»åŠ¨å“ªä¸€ä¸ªæŒ‡é’ˆ

  - å¦‚æœfirståŒºé—´å…ˆç»“æŸï¼Œåˆ™å‘å‰ç§»åŠ¨firstæŒ‡é’ˆ(`i++`)
  - å¦‚æœsecondåŒºé—´å…ˆç»“æŸï¼Œåˆ™å‘å‰ç§»åŠ¨secondæŒ‡é’ˆ(`j++`)

- å°†ç»“æœåˆ—è¡¨è½¬åŒ–ä¸ºæ•°ç»„å¹¶è¿”å›

####å®ç°ä»£ç 

```java
  public int[][] intervalIntersection(int[][] firstList, int[][] secondList) {
        List<int[]> list = new ArrayList<>();
        int m = firstList.length;
        int n = secondList.length;
        int i=0, j=0;
        while (i<m && j<n) {
            int[] first = firstList[i];
            int[] second = secondList[j];
            // æœ‰é‡å çš„æƒ…å†µ
            if ((first[0] <= second[1] && first[1] >= second[0])
            || (second[0] <= first[1] && second[1]>= first[0])){
                int[] interval = new int[2];
                interval[0] = Math.max(first[0], second[0]);
                interval[1] = Math.min(first[1], second[1]);
                list.add(interval);
            }
            // å¦‚ä½•å‘å‰ç§»åŠ¨æŒ‡é’ˆ
            // å‘å‰ç§»åŠ¨ç»“æŸè¾ƒæ—©çš„åŒºé—´çš„æŒ‡é’ˆ
            if (first[1] < second[1]){
                i++;
            }else{
                j++;
            }
        }

        int[][] result = new int[list.size()][2];
        for (int k=0; k<list.size();k++){
            result[k] = list.get(k);
        }
        return result;
    }
```

## è¯¾ç¨‹/ä»»åŠ¡è°ƒåº¦é—®é¢˜

| Item     | Value                                                        | Comments |
| -------- | ------------------------------------------------------------ | -------- |
| åœºæ™¯æè¿° | é€‰æ‹©æœ€å¤šçš„è¯¾ç¨‹ï¼Œéœ€è¦åœ¨**æˆªæ­¢æ—¶é—´**å‰å®Œæˆ                     |          |
| æ’åºé€»è¾‘ | æŒ‰ç…§**æˆªæ­¢æ—¶é—´**å‡åº                                         |          |
| é€‰æ‹©é€»è¾‘ | ä¼˜å…ˆé€‰æ‹©**æˆªæ­¢æ—¥æœŸæ—©**çš„ä»»åŠ¡ï¼Œå¦‚æœè¶…æ—¶åˆ™æ›¿æ¢**æ¶ˆè€—æ—¶é—´æœ€é•¿**ï¼ˆdurationï¼‰çš„ |          |
| å®ç°åŸç† | ä½¿ç”¨**å¤§é¡¶å †**è®°å½•å½“æ—¶ä»»åŠ¡çš„**è€—æ—¶**é›†åˆï¼Œè‹¥è¶…è¿‡æ€»æ—¶é—´ï¼Œåˆ™å»æ‰æœ€é•¿ä»»åŠ¡ |          |
| Leetcode | 630                                                          |          |

### æ ¸å¿ƒæ€æƒ³ - çœ¼å‰æœ€ä¼˜å³æ˜¯å…¨å±€æœ€ä¼˜

è´ªå¿ƒç®—æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯ **â€œçœ¼å‰æœ€ä¼˜ï¼Œå³æ˜¯å…¨å±€æœ€ä¼˜â€**ã€‚

åœ¨è§£å†³è°ƒåº¦é—®é¢˜æ—¶ï¼Œè¿™æ„å‘³ç€åœ¨æ¯ä¸€æ­¥å†³ç­–ä¸­ï¼Œéƒ½é€‰æ‹©ä¸€ä¸ªå½“å‰çœ‹èµ·æ¥æœ€ä¼˜çš„é€‰é¡¹ï¼Œå¹¶æœŸæœ›è¿™ä¸€ç³»åˆ—å±€éƒ¨æœ€ä¼˜é€‰æ‹©èƒ½å¤Ÿå¯¼å‘å…¨å±€æœ€ä¼˜è§£ã€‚

å¯¹äºè°ƒåº¦é—®é¢˜ï¼Œè¿™ä¸ªâ€œæœ€ä¼˜â€é€šå¸¸æ„å‘³ç€ï¼š**åšå‡ºä¸€ä¸ªé€‰æ‹©åï¼Œä¸ºæœªæ¥çš„é€‰æ‹©ç•™ä¸‹æœ€å¤§çš„å¯èƒ½æ€§å’Œèµ„æº**ã€‚

è¿™é‡Œçš„â€œèµ„æºâ€æœ€å¸¸è§çš„å°±æ˜¯**æ—¶é—´**ã€‚

### é€šç”¨å¥—è·¯

#### ç¡®å®šè´ªå¿ƒç­–ç•¥ - ä¾æ®ä»€ä¹ˆæ’åºï¼Ÿ

è¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ã€‚

ä½ éœ€è¦ç¡®å®šä¸€ä¸ªæ’åºè§„åˆ™ï¼Œè¿™ä¸ªè§„åˆ™å°±æ˜¯ä½ çš„è´ªå¿ƒé€‰æ‹©æ ‡å‡†ã€‚

å…ˆå¤„ç†å“ªä¸ªä»»åŠ¡ï¼Ÿåå¤„ç†å“ªä¸ªä»»åŠ¡ï¼Ÿ

è¿™ä¸ªé¡ºåºç›´æ¥å†³å®šäº†ç®—æ³•çš„æˆè´¥ã€‚

#### åˆå§‹åŒ–çŠ¶æ€ - è¿½è¸ªçŠ¶æ€çš„å˜é‡

æ ¹æ®é—®é¢˜å®šä¹‰ï¼Œåˆå§‹åŒ–ä¸€äº›ç”¨äºè¿½è¸ªçŠ¶æ€çš„å˜é‡ã€‚

æœ€å¸¸è§çš„å˜é‡æ˜¯ `currentTime` (è®°å½•å½“å‰å·²ä½¿ç”¨çš„æ—¶é—´) å’Œ `count` (è®°å½•å·²å®Œæˆçš„ä»»åŠ¡æ•°é‡)ã€‚

#### éå†ä¸å†³ç­–ï¼šæ˜¯å¦å¯ä»¥æ¥çº³è¿™ä¸ªä»»åŠ¡ï¼Ÿ

æŒ‰ç…§ Step 1 çš„æ’åºç»“æœï¼Œä¾æ¬¡éå†æ‰€æœ‰ä»»åŠ¡ã€‚

å¯¹äºæ¯ä¸ªä»»åŠ¡ï¼Œæ ¹æ®å½“å‰çŠ¶æ€ï¼ˆå¦‚ `currentTime`ï¼‰åˆ¤æ–­æ˜¯å¦å¯ä»¥æ¥çº³è¿™ä¸ªä»»åŠ¡ã€‚

##### å¦‚æœå¯ä»¥ï¼šæ›´æ–°çŠ¶æ€

æ›´æ–°ç´¯è®¡æ—¶é—´æˆ–è€…æ•°é‡ã€‚

##### å¦‚æœä¸å¯ä»¥ï¼šè€ƒè™‘å¼•å…¥åæ‚”æœºåˆ¶ - å †

æœ‰æ—¶ï¼Œä¸€ä¸ªå½“å‰çœ‹èµ·æ¥ä¸é”™çš„é€‰æ‹©ï¼Œå¯èƒ½ä¼šé˜»ç¢æœªæ¥æ›´å¥½çš„é€‰æ‹©ã€‚

ä¾‹å¦‚ï¼Œé€‰æ‹©äº†ä¸€ä¸ªè€—æ—¶å¾ˆé•¿çš„ä»»åŠ¡ï¼Œå¯¼è‡´åé¢å¾ˆå¤šè€—æ—¶çŸ­çš„ä»»åŠ¡éƒ½æ— æ³•å®Œæˆã€‚

åæ‚”æœºåˆ¶â€å…è®¸æˆ‘ä»¬ä¿®æ­£ä¹‹å‰çš„é€‰æ‹©ã€‚å½“å‘ç°å½“å‰ä»»åŠ¡æ— æ³•ç›´æ¥å®‰æ’æ—¶ï¼Œæˆ‘ä»¬å›å¤´çœ‹çœ‹å·²ç»å®‰æ’çš„ä»»åŠ¡ä¸­ï¼Œæ˜¯ä¸æ˜¯æœ‰â€œæœ€å·®â€çš„ä¸€ä¸ªå¯ä»¥è¢«æ›¿æ¢æ‰ã€‚

**å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰** æ˜¯å®ç°è¿™ç§åæ‚”æœºåˆ¶çš„å®Œç¾æ•°æ®ç»“æ„ã€‚

### è´ªå¿ƒæ’åºé€»è¾‘

| **æ’åºç­–ç•¥**                | **æ ¸å¿ƒé€»è¾‘**                                                 | **é€‚ç”¨åœºæ™¯**                                                 | **ç»å…¸ä¾‹å­**                                            |
| --------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------- |
| **æŒ‰ç»“æŸæ—¶é—´/æˆªæ­¢æ—¥æœŸå‡åº** | - **ä¼˜å…ˆå®Œæˆæ—©ç»“æŸçš„ä»»åŠ¡ï¼Œå¯ä»¥å°½æ—©é‡Šæ”¾æ—¶é—´èµ„æºï¼Œä¸ºåç»­ä»»åŠ¡ç•™å‡ºæ›´å¤šç©ºé—´ã€‚** <br/>- è¿™æ˜¯æœ€å¸¸ç”¨ã€æœ€æœ‰æ•ˆçš„ç­–ç•¥ä¹‹ä¸€ã€‚ | æ—¨åœ¨æœ€å¤§åŒ– **ä»»åŠ¡æ•°é‡**ï¼Œä»»åŠ¡ä¹‹é—´æ²¡æœ‰ä¾èµ–ã€‚                  | LeetCode 435 (æ— é‡å åŒºé—´), æ´»åŠ¨é€‰æ‹©é—®é¢˜ã€‚               |
| **æŒ‰å¼€å§‹æ—¶é—´å‡åº**          | æŒ‰ç…§ä»»åŠ¡å‘ç”Ÿçš„è‡ªç„¶æ—¶é—´é¡ºåºå¤„ç†ã€‚                             | åœºæ™¯æ¯”è¾ƒå¤æ‚ï¼Œé€šå¸¸éœ€è¦ç»“åˆå…¶ä»–æ•°æ®ç»“æ„ï¼ˆå¦‚æœ€å°å †ï¼‰æ¥ç®¡ç†å¹¶è¡Œæˆ–é‡å çš„ä»»åŠ¡ã€‚ | LeetCode 253 (ä¼šè®®å®¤ II), LeetCode 56 (åˆå¹¶åŒºé—´)ã€‚      |
| **æŒ‰æ—¶é•¿å‡åº/é™åº**         | ä¼˜å…ˆå¤„ç†çŸ­ä»»åŠ¡ï¼Œæˆ–è€…ä¼˜å…ˆå¤„ç†é•¿ä»»åŠ¡ã€‚                         | è¿™ç§ç­–ç•¥å•ç‹¬ä½¿ç”¨æ—¶æœ‰å±€é™æ€§ï¼Œå¾€å¾€ä¸æ˜¯æœ€ä¼˜è§£ï¼Œä½†å¯ä»¥ä½œä¸ºâ€œåæ‚”æœºåˆ¶â€ä¸­çš„è¯„åˆ¤æ ‡å‡†ã€‚ | åœ¨è¯¾ç¨‹è¡¨IIIä¸­ï¼Œæˆ‘ä»¬ç”¨å®ƒæ¥å†³å®šâ€œåæ‚”â€æ—¶åº”è¯¥æ‰”æ‰å“ªä¸ªè¯¾ç¨‹ã€‚ |

###Leetcode 630ï¼šè¯¾ç¨‹é€‰æ‹©é—®é¢˜

ä½ æœ‰ä¸€ç³»åˆ—è¯¾ç¨‹ï¼Œæ¯é—¨è¯¾ç¨‹æœ‰ä¸¤ä¸ªå‚æ•°ï¼š

- `duration`ï¼šä¸Šå®Œè¿™é—¨è¯¾éœ€è¦å¤šå°‘å¤©ï¼›
- `lastDay`ï¼šæœ€æ™šåœ¨ç¬¬å‡ å¤©å‰å®Œæˆè¿™é—¨è¯¾ã€‚

ä½ åªèƒ½ **ä¾æ¬¡ä¸Šè¯¾**ï¼ˆä¸èƒ½å¹¶è¡Œï¼‰ï¼Œé—®æœ€å¤šèƒ½ä¸Šå¤šå°‘é—¨è¯¾ã€‚

ğŸ‘‰ æœ¬è´¨ä¸Šæ˜¯ï¼šåœ¨ä¸€ä¸ª**æœ‰é™æ—¶é—´åŒºé—´å†…é€‰æ‹©å°½å¯èƒ½å¤šçš„ä»»åŠ¡ï¼Œæ¯ä¸ªä»»åŠ¡æœ‰é•¿åº¦é™åˆ¶å’Œæˆªæ­¢æ—¥æœŸ**ã€‚

####æ ¸å¿ƒæ€æƒ³ï¼š è´ªå¿ƒ+å¤§é¡¶å †

æˆ‘ä»¬å¸Œæœ›åœ¨æ»¡è¶³æ¯é—¨è¯¾çš„æˆªæ­¢æ—¶é—´çš„é™åˆ¶ä¸‹ï¼Œå°½å¯èƒ½å¤šçš„å®‰æ’è¯¾ç¨‹ã€‚

è´ªå¿ƒç­–ç•¥ï¼š

- ä¼˜å…ˆé€‰æ‹©æˆªæ­¢æ—¥æœŸæ—©çš„è¯¾ç¨‹ï¼Œå› ä¸ºè¿™äº›è¯¾ç¨‹çš„æ—¶é—´æ›´ç´§è¿«
- å¯¹äºæ‰€æœ‰å·²ç»é€‰æ‹©çš„è¯¾ç¨‹ï¼Œå¦‚æœå½“å‰è¯¾ç¨‹æ— æ³•åŠ å…¥ï¼Œåˆ™å°è¯•æ›¿æ¢æ‰æ¶ˆè€—æ—¶é—´æœ€é•¿çš„è¯¾ç¨‹ï¼Œä»¥èŠ‚çœæ—¶é—´å¹¶å°è¯•åŒ…å«æ›´å¤šè¯¾ç¨‹

ç”¨ä¸€ä¸ª**å¤§é¡¶å †**æ¥ç»´æŠ¤å½“å‰å·²ç»é€‰æ‹©çš„è¯¾ç¨‹ä¸­çš„æœ€å¤§è€—æ—¶ï¼Œå°è¯•è¿›è¡Œæ›¿æ¢ä¼˜åŒ–ã€‚

#####è´ªå¿ƒç®—æ³•æ’åº: æŒ‰ç…§æˆªæ­¢æ—¥æœŸè¿›è¡Œæ’åº

æŒ‰ç…§è¯¾ç¨‹æˆªæ­¢æ—¥æœŸ`lastDay`ä»å°åˆ°å¤§æ’åºï¼š

- æ—©æˆªæ­¢çš„ä¼˜å…ˆé€‰ï¼Œä¼˜å…ˆå¤„ç†æ—¶é—´ç´§è¿«çš„ä»»åŠ¡
- å¯ä»¥ç¡®ä¿æˆ‘ä»¬å½“å‰åªéœ€è¦æ»¡è¶³æœ€æ—©çš„`deadline`ï¼Œä»è€Œç•™ä¸‹æ›´å¤šæ—¶é—´ç»™æœªæ¥è¯¾ç¨‹

```
Arrays.sort(cources,(a,b)->b[0]-a[0]);
```

##### è´ªå¿ƒç®—æ³•é€‰æ‹©é€»è¾‘

###### å¤§é¡¶å †ï¼šç»´æŠ¤è€—æ—¶æ—¶é—´æœ€é•¿çš„è¯¾ç¨‹ + å­˜æ”¾é€‰ä¸­çš„è¯¾ç¨‹

å¤§é¡¶å †çš„ä½œç”¨æœ‰ä¸¤ä¸ªï¼š

- å­˜æ”¾**å½“å‰é€‰ä¸­**çš„è¯¾ç¨‹ï¼Œä¹‹æ‰€ä»¥è¯´æ˜¯å½“å‰ï¼Œå› ä¸ºæœªæ¥å®ƒæœ‰å¯èƒ½ä¼šè¢«è¸¢å‡ºå»
- æŒ‰ç…§è¯¾ç¨‹è€—æ—¶è¿›è¡Œå€’æ’ï¼Œç¡®ä¿å †é¡¶çš„è¯¾ç¨‹æ˜¯**å½“å‰è€—æ—¶æœ€é•¿**çš„**å·²é€‰ä¸­è¯¾ç¨‹**ï¼Œåœ¨é‡åˆ°æ›´åˆç†çš„é€‰æ‹©çš„æ—¶å€™ï¼Œè¯¥è¯¾ç¨‹ä¼šè¢«è¸¢å‡º

###### éå†å¹¶é€‰æ‹©/æ›¿æ¢æ’åºåçš„è¯¾ç¨‹

- å¦‚æœå½“å‰**æ€»è€—æ—¶+è¯¾ç¨‹æ—¶é—´ <= lastDay**ï¼Œåˆ™åŠ å…¥è¯¾ç¨‹ï¼Œå³åŠ å…¥**å¤§é¡¶å †**

- å¦åˆ™ï¼Œå½“å‰è¯¾ç¨‹ä¸èƒ½ç›´æ¥åŠ å…¥ï¼Œå¦‚æœå½“å‰è¯¾ç¨‹è€—æ—¶çŸ­äºå †é¡¶çš„è¯¾ç¨‹ï¼Œå°è¯•æ¢æ‰å †é¡¶çš„è¯¾ç¨‹

####å®ç°ä»£ç 

```java
    class Course{
        int duration;
        int lastDay;
        public Course(int duration,int lastDay){
            this.duration = duration;
            this.lastDay = lastDay;
        }
    }
    public int scheduleCourse(int[][] courses) {
        //æŒ‰ç…§æˆªè‡³æ—¶é—´å‡åºæ’åº
        Arrays.sort(courses,(a,b)->a[1]-b[1]);
        //æŒ‰ç…§durationæ’åºï¼Œå¤§é¡¶å †
        PriorityQueue<Course> pq = new PriorityQueue<>((a,b) -> b.duration - a.duration);
        int end = 0;
        int n = courses.length;
        int totalTime =0;

        for (int[] course : courses){
            totalTime += course[0];
            pq.offer(new Course(course[0], course[1]));

            if (totalTime > course[1]){
                Course remove = pq.poll();
                totalTime -= remove.duration;
            }
        }

        return pq.size();
        
    }
```

####æ³¨æ„äº‹é¡¹

| æ³¨æ„ç‚¹       | è¯´æ˜                                               |
| ------------ | -------------------------------------------------- |
| æ’åºä¾æ®     | å¿…é¡»æŒ‰ `lastDay` å‡åºï¼Œä¸æ˜¯ duration               |
| æ›¿æ¢ç­–ç•¥     | åªæœ‰å½“å‰è¯¾çš„è€—æ—¶å°äºå †é¡¶ï¼ˆæœ€å¤§è€—æ—¶ï¼‰æ—¶æ›¿æ¢æ‰æœ‰æ„ä¹‰ |
| å¤§é¡¶å †çš„ä½¿ç”¨ | éœ€è¦è‡ªå®šä¹‰æ¯”è¾ƒå™¨ `(a, b) -> b - a`                 |
| æ€»è€—æ—¶æ›´æ–°   | åŠ è¯¾æ—¶åŠ ï¼Œæ€»æ—¶é—´è¶…è¿‡ deadline æ—¶å†ç§»é™¤æœ€è€—æ—¶çš„è¯¾ç¨‹ |

####ç»éªŒæ€»ç»“

| ç»éªŒç‚¹       | å†…å®¹                                                         |
| ------------ | ------------------------------------------------------------ |
| è´ªå¿ƒé—®é¢˜è¯†åˆ« | è´ªå¿ƒç®—æ³•å¸¸ç”¨äºâ€œæœ€å¤§åŒ–ã€æœ€å°åŒ–â€ç±»é—®é¢˜ï¼Œå°¤å…¶æ˜¯**é€‰æ‹©å­é›†çš„ä¼˜åŒ–é—®é¢˜** |
| è´ªå¿ƒ+å †ç»„åˆ  | è‹¥æ¶‰åŠé€‰æ‹©çš„**æœ€å€¼**ï¼ˆå¦‚æœ€å¤§/æœ€å°è€—æ—¶è¯¾ç¨‹ï¼‰ï¼Œè€ƒè™‘ç”¨ä¼˜å…ˆé˜Ÿåˆ—è¾…åŠ©ç»´æŠ¤ |
| æ›¿æ¢ç­–ç•¥æå‡ | ä¸æ˜¯æ‰€æœ‰è¯¾ç¨‹éƒ½ä¸€å®šé€‰ï¼Œå¿…è¦æ—¶è¦æ”¾å¼ƒé•¿ä»»åŠ¡ä»¥å®¹çº³çŸ­ä»»åŠ¡         |
| æ—¶é—´å¤æ‚åº¦   | `O(n log n)` æ’åº + æ¯é—¨è¯¾ç¨‹æœ€å¤šè¿›å †å’Œå‡ºå †ä¸€æ¬¡ï¼Œ`O(n log n)` æ€»ä½“å¤æ‚åº¦ |

###Leetcode 1353 æœ€å¤šå¯ä»¥å‚åŠ çš„ä¼šè®®æ•°é‡

ç»™ä½ ä¸€ä¸ªæ•°ç»„ `events`ï¼Œå…¶ä¸­ `events[i] = [startDayi, endDayi]` ï¼Œè¡¨ç¤ºä¼šè®® `i` å¼€å§‹äº `startDayi` ï¼Œç»“æŸäº `endDayi` ã€‚

ä½ å¯ä»¥åœ¨æ»¡è¶³ `startDayi <= d <= endDayi` ä¸­çš„ä»»æ„ä¸€å¤© `d` å‚åŠ ä¼šè®® `i` ã€‚åœ¨ä»»æ„ä¸€å¤© `d` ä¸­åªèƒ½å‚åŠ ä¸€åœºä¼šè®®ã€‚

è¯·ä½ è¿”å›ä½ å¯ä»¥å‚åŠ çš„ **æœ€å¤§** ä¼šè®®æ•°ç›®ã€‚

è¿™æ˜¯ä¸€ä¸ª **åŒºé—´é€‰æ‹©ä¼˜åŒ–é—®é¢˜**ï¼Œç›®æ ‡æ˜¯é€‰æ‹©å°½å¯èƒ½å¤šçš„ä¸é‡å çš„ä¼šè®®ï¼Œæ¯å¤©åªèƒ½å‚åŠ ä¸€ä¸ªä¼šè®®ã€‚

####æ ¸å¿ƒæ€æƒ³ï¼š æ’åº+æœ€å°å †- å‚åŠ æœ€æ—©ç»“æŸçš„ä¼šè®®

æ¯å¤©éƒ½å°è¯•ç€å»å‚åŠ å½“å¤©å¯ä»¥å‚åŠ çš„ä¼šè®®ä¸­ç»“æŸæœ€æ—©çš„é‚£ä¸ªï¼Œä»¥ç©ºå‡ºæ›´å¤šæœªæ¥çš„æ—¶é—´å‚åŠ æ›´å¤šä¼šè®®ã€‚

####æ­¤ç±»é—®é¢˜çš„é€šç”¨å¥—è·¯ï¼š

- æ¯å¤©åªèƒ½å¹²ä¸€ä»¶äº‹
- ä½œç»“æŸæ—¶é—´æœ€æ—©çš„é‚£ä¸ªäº‹æƒ…ï¼Œæµå‡ºæ›´å¤šæ—¶é—´ç»™åé¢çš„ä»»åŠ¡

####è´ªå¿ƒç®—æ³•æ’åº-æŒ‰ç…§ä¼šè®®çš„å¼€å§‹æ—¶é—´æ’åº

å°†ä¼šè®®æŒ‰ç…§`startDay`ä»å°åˆ°å¤§æ’åº

- æˆ‘ä»¬æ˜¯æŒ‰å¤©æ¨¡æ‹Ÿä»ç¬¬ä¸€å¤©åˆ°æœ€åä¸€å¤©çš„è¿‡ç¨‹ï¼Œè€Œä¸æ˜¯é€ä¸ªä¼šè®®è€ƒè™‘
- éœ€è¦æŒ‰ç…§ä¼šè®®çš„å¼€å§‹æ—¶é—´æ’åºï¼Œç¡®ä¿æˆ‘ä»¬æ¯å¤©éƒ½çŸ¥é“å½“å¤©å¯ä»¥å¼€å§‹çš„å¿ƒä¼šè®®æœ‰å“ªäº›

####å°é¡¶å †ï¼šç»´æŠ¤ç»“æŸæ—¶é—´æœ€æ—©çš„ä¼šè®®

æ¯å¤©ï¼š

- å°†å½“å¤©å¼€å§‹çš„æ–°ä¼šè®®åŠ å…¥åˆ°**å°é¡¶å †**ï¼Œå †ä¸­å­˜å‚¨çš„æ˜¯è¿™äº›ä¼šè®®çš„**ç»“æŸæ—¶é—´**
- ç§»é™¤æ‰€æœ‰ç»“æŸæ—¶é—´æ—©äºä»Šå¤©çš„ä¼šè®®ï¼ˆ**å·²ç»è¿‡æœŸ**ï¼‰
- å¦‚æœå †éç©ºï¼Œé€‰æ‹©**å †é¡¶ä¼šè®®**å‚åŠ ï¼Œç„¶å**å°†ä¼šè®®ä»å †é¡¶ç§»é™¤**

ç†ç”±ï¼š

- å…ˆç»“æŸçš„ä¼šè®®ä¸èƒ½å¤Ÿå½±å“åé¢çš„é€‰æ‹©ï¼Œè´ªå¿ƒç­–ç•¥ï¼š**æ€»æ˜¯é€‰æ‹©ç»“æŸæ—¶é—´æœ€æ—©çš„ä¼šè®®**

#### è´ªå¿ƒç®—æ³•: é€‰æ‹©è¿‡ç¨‹

##### æ‰¾åˆ°æœ€æ™šçš„ç»“æŸæ—¥æœŸ`lastDay`

æ‰¾åˆ°æœ€æ™šçš„ç»“æŸæ—¥æœŸï¼Œå³æ‰€æœ‰çš„ä¼šè®®ç»“æŸæ—¥æœŸä¸­æœ€æ™šçš„æ—¥æœŸã€‚

##### éå†`[1...lastDay]`

##### æ‰€æœ‰å½“æ—¥å¼€å§‹çš„ä¼šè®®åŠ å…¥å †

å°†æ‰€æœ‰å½“æ—¥å¼€å§‹çš„ä¼šè®®éƒ½åŠ å…¥å°é¡¶å †ã€‚

##### ä»å°é¡¶å †ä¸­ç§»é™¤å·²ç»è¿‡æœŸçš„ä¼šè®®

å³ç§»é™¤æ‰€æœ‰ç»“æŸæ—¥æœŸå°äºå½“å‰æ—¥æœŸçš„ä¼šè®®ã€‚

##### é€‰æ‹©å †é¡¶ä½œä¸ºå½“å‰æ—¥æœŸå‚åŠ çš„ä¼šè®®

- å‚åŠ çš„ä¼šè®®æ•°é‡ + 1
- å°†ä¼šè®®ä»å †é¡¶åˆ é™¤

#####ç»“æœ

è¿”å›æœ€ç»ˆå‚åŠ çš„ä¼šè®®æ•°é‡å³å¯ã€‚

####å®ç°ä»£ç 

```java
 //æœ€å¤šå¯ä»¥å‚åŠ  n åœºä¼šè®®
    class Event{
        int start;
        int end;
        int duration;
        public Event(int start, int end){
            this.start = start;
            this.end = end;
            this.duration = end - start + 1;
        }
    }
    public int maxEvents(int[][] events) {
        //æ’åºï¼Œ æŒ‰ç…§ä¼šè®®å¼€å§‹æ—¶é—´ä»å¤§åˆ°å°æ’åº
        Arrays.sort(events, (a,b)->a[0]-b[0]);
				//æ‰¾åˆ°æ‰€æœ‰ä¼šè®®ç»“æŸçš„æœ€æ™šæ—¥æœŸï¼ˆlastdayï¼‰
        int lastDay = 0; 

        int count = 0;

        for (int[] event : events){
            if (event[1] > lastDay){
                lastDay = event[1];
            }
        }
      
        // å°é¡¶å †ï¼ŒæŒ‰ç…§ç»“æŸæ—¶é—´ä»æ—©åˆ°æ™š
        PriorityQueue<Event> pq = new PriorityQueue<>((a,b)->a.end-b.end);
        for(int day = 1; day <= lastDay;day++){
            // å°†start == dayçš„ä¼šè®®åŠ å…¥åˆ°pq
            for (int i=0; i< events.length;i++){
                int[] event = events[i];
                if (event[0] == day){
                    pq.offer(new Event(event[0], event[1]));
                }
            }

            //æ‰¾åˆ°ç¬¬ä¸€ä¸ªæœ‰æ•ˆçš„event
            // ç§»é™¤æ‰€æœ‰å·²ç»è¿‡æœŸçš„ä¼šè®®
            while (!pq.isEmpty() && pq.peek().end < day) {
                pq.poll();
            }

            // é€‰æ‹©ä»Šå¤©è¦å‚åŠ çš„ä¼šè®®ï¼ˆé€‰æ‹©ç»“æŸæ—¶é—´æœ€æ—©çš„ï¼‰
            if (!pq.isEmpty()) {
                pq.poll(); // å‚åŠ è¿™åœºä¼šè®®
                count++;
            }
        }
        return count;
    }
```

####æ³¨æ„äº‹é¡¹

- **å¤©æ•°ä¸Šé™ï¼š** é¢˜ç›®èŒƒå›´ä¸º `startDay[i], endDay[i] <= 10^5`ï¼Œä¸èƒ½ç”¨æ•°ç»„æ¨¡æ‹Ÿæ¯ä¸€å¤©çš„äº‹ä»¶ï¼Œå¦åˆ™ä¼šè¶…å†…å­˜ã€‚
- **å †ä¼˜åŒ–ï¼š** ç”¨æœ€å°å †å­˜å‚¨å½“å‰å¯å‚åŠ çš„ä¼šè®®ç»“æŸæ—¶é—´ï¼Œç¡®ä¿èƒ½å¿«é€Ÿæ‹¿åˆ°æœ€æ—©ç»“æŸçš„ä¼šè®®ã€‚
- **è¿‡æœŸä¼šè®®å¤„ç†ï¼š** æ¯å¤©éƒ½è¦æ£€æŸ¥å †é¡¶æ˜¯å¦è¿‡æœŸï¼ˆ`pq.peek() < day`ï¼‰ï¼Œå¦åˆ™å¯èƒ½å‚åŠ äº†æ— æ•ˆä¼šè®®ã€‚

####ç»éªŒæ€»ç»“

| é¡¹ç›®     | å†…å®¹                                                      |
| -------- | --------------------------------------------------------- |
| é—®é¢˜ç±»åˆ« | åŒºé—´è°ƒåº¦ï¼Œè´ªå¿ƒ                                            |
| è§£é¢˜ç­–ç•¥ | æ¯å¤©é€‰æ‹©ç»“æŸæ—¶é—´æœ€æ—©çš„ä¼šè®®                                |
| æ’åºä¾æ® | æŒ‰ä¼šè®®å¼€å§‹æ—¶é—´æ’åºï¼Œç¡®ä¿æŒ‰æ—¶é—´çº¿æ¨è¿›                      |
| æ•°æ®ç»“æ„ | æœ€å°å †ï¼ˆPriorityQueueï¼‰ç»´æŠ¤å½“å¤©å¯ä»¥å‚åŠ çš„ä¼šè®®             |
| æ³¨æ„äº‹é¡¹ | æ³¨æ„è¿‡æœŸä¼šè®®çš„å¤„ç†ï¼›ä¸èƒ½ç”¨æ•°ç»„æ¨¡æ‹Ÿæ‰€æœ‰å¤©æ•°                |
| ç±»ä¼¼é—®é¢˜ | Leetcode 452ï¼ˆç”¨æœ€å°‘æ•°é‡çš„ç®­å¼•çˆ†æ°”çƒï¼‰ã€435ï¼ˆæ— é‡å åŒºé—´ï¼‰ |

##åŒºé—´è¦†ç›–é—®é¢˜ï¼ˆæœ€å°å¼“ç®­æ•°/è§†é¢‘æ‹¼æ¥ï¼‰

**åŒºé—´è¦†ç›–é—®é¢˜**ï¼Œç›®æ ‡æ˜¯ç”¨**æœ€å°‘çš„åŒºé—´æ•°é‡**å»è¦†ç›– `[0, T]` åŒºé—´ã€‚

| Item     | Value                              | Comments                                                     |
| -------- | ---------------------------------- | ------------------------------------------------------------ |
| åœºæ™¯æè¿° | ç”¨æœ€å°‘çš„èµ„æºè¦†ç›–ç›®æ ‡èŒƒå›´           |                                                              |
| æ’åºé€»è¾‘ | æŒ‰ç…§åŒºé—´ç»“æŸç‚¹å‡åº                 | //ä»€ä¹ˆæƒ…å†µä¸‹åº”è¯¥æŒ‰ç…§ç»“æŸæ—¶é—´ï¼Œä»€ä¹ˆæƒ…å†µä¸‹åº”è¯¥æŒ‰ç…§å¼€å§‹æ—¶é—´æ’åºï¼Ÿ |
| é€‰æ‹©é€»è¾‘ | é€‰æ‹©ç»“æŸæœ€æ—©å¹¶ä¸”èƒ½å¤Ÿè¦†ç›–å½“å‰çš„åŒºé—´ |                                                              |
| å®ç°åŸç† | æ¯æ¬¡æ”¾ç½®ä¸€ä¸ªèµ„æº                   |                                                              |
| Leetcode | 452,1024                           |                                                              |

### æ ¸å¿ƒæ€æƒ³ - é€‰æ‹©é‚£ä¸ªèƒ½å»¶ä¼¸åˆ°æœ€è¿œä½ç½®çš„åŒºé—´

**åœ¨å½“å‰èƒ½è¦†ç›–åˆ°çš„æ‰€æœ‰åŒºé—´ä¸­ï¼Œé€‰æ‹©é‚£ä¸ªèƒ½å»¶ä¼¸åˆ°æœ€è¿œä½ç½®çš„åŒºé—´**ã€‚

###å®ç°å¥—è·¯

#### åˆå§‹åŒ–å·²é€‰æ•°é‡å’Œåˆ°è¾¾ä½ç½®

æˆ‘ä»¬éœ€è¦ä¸¤ä¸ªå˜é‡ï¼š

- å·²ç»é€‰æ‹©çš„åŒºé—´çš„æ•°é‡ï¼Œè®°å½•å·²ç»é€‰ä¸­çš„åŒºé—´çš„æ•°é‡
- å·²ç»åˆ°è¾¾çš„ä½ç½®ï¼Œç”¨æ¥è®°å½•ç›®å‰å·²ç»è¦†ç›–çš„ä½ç½®

#### è´ªå¿ƒç®—æ³•æ’åºï¼š æŒ‰ç…§åŒºé—´çš„èµ·ç‚¹æ’åº

- (é€šå¸¸) æŒ‰ `start` å‡åºæ’åº

#### è´ªå¿ƒç®—æ³•é€‰æ‹©ï¼šé€‰æ‹©ç»è¿‡å·²åˆ°è¾¾ä½ç½®å¹¶ä¸”ç»ˆç‚¹æœ€è¿œçš„åŒºé—´

åœ¨æ‰€æœ‰èµ·ç‚¹**å°äºå½“å‰åˆ°è¾¾ä½ç½®**çš„åŒºé—´ä¸­ï¼Œé€‰æ‹©ç»ˆç‚¹æœ€å¤§çš„åŒºé—´ã€‚

#####å¦‚æœé€‰ä¸­åŒºé—´çš„ç»ˆç‚¹ å°äºç­‰äºå½“å‰åˆ°è¾¾ä½ç½®

è¯´æ˜ä»å½“å‰ä½ç½®å·²ç»æ— æ³•å‘å‰è¡ç”Ÿäº†ï¼Œè¦†ç›–å¤±è´¥ï¼Œè¿”å›`-1`ã€‚

#####å¦‚æœé€‰ä¸­åŒºé—´çš„ç»ˆç‚¹å¤§äºå½“å‰åˆ°è¾¾ä½ç½®

è¿™æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„è´ªå¿ƒé€‰æ‹©ï¼æˆ‘ä»¬é€‰æ‹©é‚£ä¸ªèƒ½è¾¾åˆ° `next_reach` çš„åŒºé—´ã€‚

æˆ‘ä»¬éœ€è¦ï¼š

###### æ›´æ–°å½“å‰åˆ°è¾¾ä½ç½®

æ›´æ–°æˆ‘ä»¬å·²ç»è¦†ç›–åˆ°çš„æœ€è¿œè·ç¦» 

###### æ›´æ–°é€‰ä¸­åŒºé—´çš„æ•°é‡

###æ³¨æ„äº‹é¡¹

æœ¬è´¨ä¸åŒºé—´é€‰å–ç±»ä¼¼ï¼Œç›®æ ‡ä»**æœ€å¤š**å˜æˆ**æœ€å°‘**ã€‚

###Leetcode 1024 [è§†é¢‘æ‹¼æ¥](https://leetcode.cn/problems/video-stitching/)

ç»™å®šä¸€ä¸ªç›®æ ‡æ—¶é—´ `T` å’Œè‹¥å¹²ä¸ªè§†é¢‘ç‰‡æ®µ `clips[i] = [start_i, end_i]`ï¼Œæ¯ä¸ªç‰‡æ®µå¯ä»¥è¦†ç›–ä¸€ä¸ªæ—¶é—´æ®µã€‚

è¯·ä½ è¿”å›æ‹¼æ¥è¿™äº›ç‰‡æ®µæ‰€éœ€çš„æœ€å°‘ç‰‡æ®µæ•°ï¼Œä½¿å¾—ä»æ—¶é—´ `0` åˆ° `T` ä¹‹é—´çš„æ¯ä¸€æ—¶åˆ»éƒ½è¢«è¦†ç›–ã€‚å¦‚æœæ— æ³•è¦†ç›–ï¼Œè¿”å› `-1`ã€‚

è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„ **åŒºé—´è¦†ç›–é—®é¢˜**ï¼Œç›®æ ‡æ˜¯ç”¨**æœ€å°‘çš„åŒºé—´æ•°é‡**å»è¦†ç›– `[0, T]` åŒºé—´ã€‚

####æ ¸å¿ƒæ€æƒ³-è´ªå¿ƒç®—æ³•-æ¯æ¬¡é€‰æ‹©åœ¨å½“å‰æ—¶é—´ç‚¹èƒ½å»¶ä¼¸æœ€è¿œçš„åŒºé—´

ä½¿ç”¨è´ªå¿ƒç­–ç•¥ï¼š**æ¯æ¬¡é€‰æ‹©åœ¨å½“å‰æ—¶é—´ç‚¹èƒ½å¤Ÿè¦†ç›–å»¶ä¼¸æœ€è¿œçš„åŒºé—´**

è´ªå¿ƒç®—æ³•çš„å†³ç­–ç‚¹ï¼š

- å½“å‰èµ·ç‚¹`start`èƒ½å¤Ÿåˆ°è¾¾çš„æœ€è¿œå³ç«¯`end`
- å°½å¯èƒ½è®©æ¯ä¸€æ­¥çš„å»¶ä¼¸èŒƒå›´æœ€å¤§ï¼Œä»è€Œå‡å°‘åŒºé—´æ•°é‡

#####è´ªå¿ƒç®—æ³•æ’åºï¼šæŒ‰ç…§åŒºé—´èµ·ç‚¹å‡åº

æŒ‰ç…§`clips[i][0]`å‡åºæ’åˆ—

åŸå› ï¼š

- æˆ‘ä»¬å¸Œæœ›ä»å‰å¾€åä¾æ¬¡å¤„ç†è§†é¢‘ç‰‡æ®µ
- æ’åºåï¼Œæˆ‘ä»¬æ‰èƒ½ä¾æ¬¡æ‰¾å‡ºèƒ½å¤Ÿè¦†ç›–å½“å‰æ—¶é—´ç‚¹`curEnd`çš„æ‰€æœ‰å€™é€‰åŒºé—´

####è´ªå¿ƒç®—æ³•é€‰æ‹©é€»è¾‘ï¼šé€‰æ‹©ç»è¿‡å½“å‰ä½ç½®å¹¶åˆ‡ç»ˆç‚¹æœ€å¤§çš„åŒºé—´



å¯¹äºæ¯ä¸€ä¸ªæ—¶é—´ç‚¹ï¼š

1. åœ¨æ‰€æœ‰`start <= currEnd`çš„åŒºé—´ä¸­ï¼Œé€‰å–`end`æœ€å¤§çš„åŒºé—´
2. ç„¶åå°†å½“å‰æ—¶é—´æ¨è¿›åˆ°è¯¥æœ€å¤§`end`;
3. æ¯æ¬¡æ¨è¿›éƒ½ç®—ä¸€æ¬¡é€‰æ‹©ï¼Œè®¡æ•°+1;
4. å¦‚æœå½“å‰æ—¶é—´æ— æ³•æ¨è¿›ï¼ˆ**æ‰¾ä¸åˆ°å¯é€‰åŒºé—´**ï¼‰ï¼Œåˆ™è¿”å›`-1`

####å®ç°ä»£ç 

```java
class Clip{
    int start;
    int end;
    public Clip(int start, int end){
        this.start = start;
        this.end = end;
    }
}
class Solution {
    public int videoStitching(int[][] clips, int time) {
        int reachTime = 0;
        int count = 0;

        Arrays.sort(clips,(a,b) -> a[0] - b[0]);

        while(reachTime < time){
            int[] clip = findByStartTimeLessOrEqual(clips, reachTime);
            if(clip == null){
                return -1;
            }
            count++;
            reachTime = clip[1];
        }
        return count;
    }
  

    private int[] findByStartTimeLessOrEqual(int[][] clips,int startTime){
        int[] ans = null ;
        for(int[] curr : clips){
            if(curr[0] <= startTime && curr[1] > startTime){
                if(ans == null || ans[1] < curr[1]){
                    ans = curr;
                }
            }
        }
        return ans;
    }
}
```

####æ³¨æ„äº‹é¡¹

1. **ä¸èƒ½è·³è¿‡ä»»ä½•æ—¶é—´ç‚¹**ï¼Œæ¯ä¸€æ—¶åˆ» `[0, T]` éƒ½å¿…é¡»è¢«æŸä¸ªç‰‡æ®µè¦†ç›–ï¼›
2. **ç‰‡æ®µä¹‹é—´å¯ä»¥æœ‰é‡å **ï¼Œä½†ä¸èƒ½å­˜åœ¨æ—¶é—´æ®µæ— äººè¦†ç›–ï¼›
3. å¯¹äº `clips[i][0] > curEnd` çš„æƒ…å†µï¼Œæ‹¼æ¥å¤±è´¥ï¼›
4. æ’åºç»†èŠ‚ï¼š`start` ç›¸åŒçš„ï¼Œå°½é‡ç”¨ `end` æ›´å¤§çš„ï¼Œä»¥å»¶é•¿è¦†ç›–èŒƒå›´ã€‚

####ç»éªŒæ€»ç»“

| ç»´åº¦       | å†…å®¹                                                        |
| ---------- | ----------------------------------------------------------- |
| å¸¸ç”¨ç­–ç•¥   | åŒºé—´ç±»è´ªå¿ƒé—®é¢˜ï¼Œé€šå¸¸éœ€è¦æŒ‰èµ·ç‚¹æ’åºï¼ŒæŒ‰èƒ½è¦†ç›–æœ€è¿œè·ç¦»é€‰å–    |
| ç›¸ä¼¼é¢˜å‹   | Leetcode 452ï¼ˆç”¨æœ€å°‘çš„ç®­å¼•çˆ†æ°”çƒï¼‰ï¼ŒLeetcode 56ï¼ˆåˆå¹¶åŒºé—´ï¼‰ |
| å¯æ‹“å±•é—®é¢˜ | å¤šæ®µè·³è·ƒé—®é¢˜ã€åŒºé—´è°ƒåº¦é—®é¢˜                                  |
| å¸¸è§å¤±è¯¯   | å¿½ç•¥æ’åºã€æœªå¤„ç†æ— æ³•æ‹¼æ¥çš„æƒ…å†µã€æ›´æ–°é€»è¾‘ä¸æ¸…æ™°              |

##æœ€å°èµ„æºåˆ†é…ï¼ˆä¼šè®®å®¤è°ƒåº¦ï¼‰

| Item     | Value                                                | Comments |
| -------- | ---------------------------------------------------- | -------- |
| åœºæ™¯æè¿° | æœ€å°‘èµ„æºå®‰æ’æ‰€æœ‰ä»»åŠ¡                                 |          |
| æ’åºé€»è¾‘ | æŒ‰ç…§**å¼€å§‹æ—¶é—´**å‡åºï¼Œä½¿ç”¨**å°é¡¶å †**ç»´æŠ¤**ç»“æŸæ—¶é—´** |          |
| é€‰æ‹©é€»è¾‘ | è‹¥å½“å‰ä»»åŠ¡å¼€å§‹æ—¶é—´ >= å †é¡¶ç»“æŸæ—¶é—´ï¼Œå¯å¤ç”¨           |          |
| å®ç°åŸç† | æ¯æ¬¡å–å †é¡¶ï¼ˆæœ€æ—©ç»“æŸï¼‰ï¼Œå†³å®šæ˜¯å¦éœ€è¦æ–°çš„èµ„æº         |          |
| Leetcode | 253,1094                                             |          |

###æ³¨æ„äº‹é¡¹-å°é¡¶å †ç»´æŠ¤æœ€æ—©å¯ç”¨èµ„æº

#### ä»£ç å¥—è·¯æ¨¡æ¿

```java
//æŒ‰ç…§å¼€å§‹æ—¶é—´å‡åº
Arrays.sort((intervals,(a,b)->a[0]-b[0]));
//å°é¡¶å †ï¼ŒæŒ‰ç…§ç»“æŸæ—¶é—´æ’åº
PriorityQueue<Integer> heap = new Priority<>();
//å¯¹äºæ¯ä¸€ä¸ªåŒºé—´
for(int[] interval : intervals){
  //åˆ é™¤å †ä¸­ç»“æŸæ—¶é—´é­é‡å½“å‰åŒºé—´å¼€å§‹æ—¶é—´çš„æ‰€æœ‰åŒºé—´
  if (!heap.isEmpty() && heap.peek <= interval[0]){
    heap.poll();
  }
  // å°†å½“å‰åŒºé—´å…¥é˜Ÿ
  heap.offer(interval[1]);
}
//è¿”å›å †ä¸­çš„æ•°æ®
return heap.size();
```

###Leetcode 253 ä¼šè®®å®¤II

> **é¢˜ç›®æè¿°ï¼š** ç»™ä½ ä¸€ä¸ªä¼šè®®æ—¶é—´å®‰æ’çš„æ•°ç»„ `intervals`ï¼Œæ¯ä¸ªä¼šè®®æ—¶é—´ç”¨ä¸€ä¸ªé•¿åº¦ä¸º2çš„æ•°ç»„è¡¨ç¤º `[start, end]`ã€‚è¯·ä½ è®¡ç®— **è‡³å°‘** éœ€è¦ **å¤šå°‘é—´ä¼šè®®å®¤**ï¼Œæ‰èƒ½è®©æ‰€æœ‰ä¼šè®®å®‰æ’äº’ä¸å†²çªã€‚

####é—®é¢˜æœ¬è´¨ - é‡å åŒºé—´è®¡æ•°é—®é¢˜

- æœ¬è´¨æ˜¯ä¸€ä¸ª**åŒºé—´é‡å è®¡æ•°é—®é¢˜**ã€‚
- ä½ éœ€è¦æ‰¾å‡ºåœ¨**ä»»æ„æ—¶åˆ»æœ€å¤šæœ‰å¤šå°‘ä¸ªä¼šè®®åŒæ—¶è¿›è¡Œ**ï¼Œè¿™ä¸ªæœ€å¤§å¹¶å‘å€¼å°±æ˜¯æ‰€éœ€ä¼šè®®å®¤æ•°é‡ã€‚

####æ ¸å¿ƒæ€æƒ³ï¼šæ’åº + æœ€å°å †

- ç”¨ä¸€ä¸ª**æœ€å°å †**ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰ç»´æŠ¤æ‰€æœ‰ä¼šè®®çš„**ç»“æŸæ—¶é—´**ã€‚
- æŒ‰ç…§ä¼šè®®**å¼€å§‹æ—¶é—´å‡åºæ’åº**ã€‚
- æ¯æ¬¡éå†æ–°çš„ä¼šè®®ï¼š
  - è‹¥å †é¡¶çš„ä¼šè®®ç»“æŸæ—¶é—´ â‰¤ å½“å‰ä¼šè®®çš„å¼€å§‹æ—¶é—´ï¼Œè¯´æ˜å¯ä»¥å¤ç”¨ä¼šè®®å®¤ï¼Œå¼¹å‡ºå †é¡¶ï¼ˆ**é‡Šæ”¾ä¸€ä¸ªä¼šè®®å®¤**ï¼‰ï¼›
  - å¦åˆ™ï¼Œéœ€è¦æ–°å¼€ä¸€ä¸ªä¼šè®®å®¤ï¼›
  - å°†å½“å‰ä¼šè®®çš„ç»“æŸæ—¶é—´åŠ å…¥å †ä¸­ã€‚
- æœ€åå †çš„å¤§å°å°±æ˜¯æ‰€éœ€ä¼šè®®å®¤æ•°é‡ã€‚

##### è´ªå¿ƒç®—æ³•æ’åº-æŒ‰ç…§åŒºé—´èµ·ç‚¹å‡åºæ’åº

- ä¸ºäº†ç¡®ä¿å…ˆå¤„ç†æ—©å¼€å§‹çš„ä¼šè®®ï¼Œä¾¿äºåŠ¨æ€è¿½è¸ªå·²æœ‰ä¼šè®®å®¤çš„ä½¿ç”¨æƒ…å†µï¼›

- å¯ä»¥ä¿è¯æˆ‘ä»¬é€ä¸ªæ‰«ææ¯ä¸ªä¼šè®®çš„å®‰æ’æ˜¯å¦ä¸å·²æœ‰ä¼šè®®å†²çªï¼Œä»è€Œå†³å®šæ˜¯å¦éœ€è¦æ–°å¢ä¼šè®®å®¤ã€‚

##### é€‰æ‹©é€»è¾‘-é€‰æ‹©é‡Šæ”¾æœ€æ—©ç»“æŸçš„ä¼šè®®

- ä½¿ç”¨**æœ€æ—©ç»“æŸçš„ä¼šè®®ä¼˜å…ˆé‡Šæ”¾èµ„æº**ã€‚
- æ‰€ä»¥ç”¨ **æœ€å°å †ç»´æŠ¤å½“å‰æ‰€æœ‰ä¼šè®®çš„ç»“æŸæ—¶é—´**ï¼š
  - å¦‚æœå½“å‰ä¼šè®®çš„å¼€å§‹æ—¶é—´ â‰¥ å †é¡¶ï¼ˆæœ€æ—©ç»“æŸçš„ä¼šè®®ï¼‰ï¼Œè¯´æ˜è¿™ä¸ªä¼šè®®å®¤å¯ä»¥å¤ç”¨ï¼Œå¼¹å‡ºå †é¡¶ã€‚
  - å¦åˆ™ï¼Œéœ€è¦æ–°å¢ä¼šè®®å®¤ã€‚

####ä»£ç å®ç°

```java
    public int minMeetingRooms(int[][] intervals) {
        //æ’åºï¼ŒæŒ‰ç…§åŒºé—´èµ·ç‚¹æ’åº
        Arrays.sort(intervals,(a,b) -> a[0]-b[0]);
        
        //è€ƒè™‘ä½¿ç”¨ä¸€ä¸ªå°é¡¶å †ï¼Œç»´æŠ¤å½“å‰ç»“æŸæ—¶é—´æœ€æ—©çš„åŒºé—´
        // heapä¸­ä¿å­˜çš„æ˜¯å’Œå½“å‰åŒºé—´åŒæ—¶è¿›è¡Œçš„meeting?
        PriorityQueue<Integer> heap = new PriorityQueue<>();
        for (int[] interval : intervals){
             //å¦‚æœå †é¡¶çš„ä¼šè®®å·²ç»ç»“æŸï¼Œé‡Šæ”¾ä¸€ä¸ªä¼šè®®å®¤
            if (!heap.isEmpty() && heap.peek() <= interval[0]){
                heap.poll();
            }
            // ç”³è¯·ä¸€ä¸ªä¼šè®®å®¤
            heap.offer(interval[1]);
        }

        return heap.size();
    }
```

####æ³¨æ„äº‹é¡¹

1. å¿…é¡»å…ˆæŒ‰ç…§ `start time` æ’åºã€‚
2. ä¼˜å…ˆé˜Ÿåˆ—ç»´æŠ¤çš„æ°¸è¿œæ˜¯**å½“å‰å¼€ç€çš„ä¼šè®®çš„ç»“æŸæ—¶é—´**ï¼Œæœ€æ—©ç»“æŸçš„åœ¨æœ€å‰ã€‚
3. æ¯æ¬¡æ–°çš„ä¼šè®®éƒ½å°½é‡å¤ç”¨å·²æœ‰ä¼šè®®å®¤ï¼Œä¸èƒ½å¤ç”¨æ‰æ–°å¢ä¼šè®®å®¤ã€‚

####ç»éªŒæ€»ç»“

| é¡¹ç›®           | è¯´æ˜                                             |
| -------------- | ------------------------------------------------ |
| é—®é¢˜ç±»å‹       | åŒºé—´è´ªå¿ƒ + æœ€å°å †                                |
| æ˜¯å¦é€‚åˆç”¨è´ªå¿ƒ | æ˜¯ï¼Œç›®æ ‡æ˜¯**æœ€å°åŒ–ä¼šè®®å®¤æ•°**ï¼Œè€Œä¸æ˜¯æŸä¸ªå…·ä½“æ–¹æ¡ˆ |
| æ˜¯å¦é€‚åˆç”¨æ’åº | æ˜¯ï¼Œæ’åºåçš„åŒºé—´æ›´å®¹æ˜“æ¯”è¾ƒæ—¶é—´å†²çª               |
| ä¼˜åŒ–å…³é”®       | ç»´æŠ¤**æœ€æ—©ç»“æŸä¼šè®®**ï¼ŒåŠæ—¶é‡Šæ”¾ä¼šè®®å®¤èµ„æº         |
| è¿›é˜¶è€ƒæ³•       | å¤šäººè§†é¢‘é€šè¯èµ„æºè°ƒåº¦ã€æœºåœºè·‘é“è°ƒåº¦ç­‰ç±»ä¼¼æ¨¡å‹     |

### Leetcode 1094: [Car Pooling](https://leetcode.com/problems/car-pooling/)

There is a car with `capacity` empty seats. The vehicle only drives east (i.e., it cannot turn around and drive west).

You are given the integer `capacity` and an array `trips` where `trips[i] = [numPassengersi, fromi, toi]` indicates that the `ith` trip has `numPassengersi` passengers and the locations to pick them up and drop them off are `fromi` and `toi` respectively. The locations are given as the number of kilometers due east from the car's initial location.

Return `true` *if it is possible to pick up and drop off all passengers for all the given trips, or* `false` *otherwise*.

#### æ ¸å¿ƒæ€æƒ³å’Œå¥—è·¯ - éå†æ¯ä¸€ç«™

##### æ‰¾åˆ°æœ€åä¸€ç«™

æˆ‘ä»¬éå†æ‰€æœ‰çš„è¡Œç¨‹ï¼Œæ‰¾åˆ°æœ€åä¸€ç«™ã€‚

##### ä½¿ç”¨`HashMap<start,List<Trip>>`

æˆ‘ä»¬éœ€è¦æ ¹æ®ä»¥**èµ·ç‚¹** ä½œä¸ºkeyï¼Œå°†æ‰€æœ‰çš„Tripåˆ†ç±»æ•´ç†åˆ°ä¸€ä¸ªmapä¸­ã€‚

##### ä»`0...lastStop`éå†æ‰€æœ‰ç«™ç‚¹

###### åˆ°ç«™çš„ä¹˜è½¦ä¸‹è½¦

æ¯æ¬¡åˆ°è¾¾ç«™ç‚¹åï¼Œåˆ°ç«™çš„ä¹˜å®¢ä¸‹è½¦

- æˆ‘ä»¬å°†`occupied - passengers`
- å°†`trip`ä»æœ€å°å †ä¸­ç§»é™¤

###### å‡ºå‘çš„ä¹˜å®¢ä¸Šè½¦

ä»ä¸Šè¿°`map`ä¸­è·å–å‡ºå‘çš„tripï¼Œå°è¯•ä¹˜å®¢ä¸Šè½¦æ“ä½œ

- å¦‚æœ`occupied + trip.passengers`ä¸è¶…è¿‡`capacity`ï¼Œä¸Šè½¦
  - `trip`åŠ å…¥æœ€å°å †ï¼›
  - `occupied += trip.passengers`
- å¦‚æœ`occupied + trip.passengers > capacity`ï¼Œç›´æ¥è¿”å›`false`ï¼Œè¯´æ˜æ— æ³•å®Œæˆæ­¤æ¬¡ä»»åŠ¡

####å®ç°ä»£ç 

```Java
class Solution {
    public boolean carPooling(int[][] trips, int capacity) {
        //æŒ‰ç…§å¼€å§‹æ—¶é—´æ’åº
        Arrays.sort(trips,(a,b) -> a[1] - b[1]);
        //æ‰¾åˆ°æœ€åä¸€ä¸ªç«™ç‚¹
        int lastStop = 0;
        Map<Integer, List<int[]>> startMap = new HashMap<>();

        for(int[] trip : trips){
            lastStop = Math.max(lastStop,trip[2]);
            startMap.putIfAbsent(trip[1], new ArrayList<>());
            startMap.get(trip[1]).add(trip);
        }
        
        //æœ€å°å †ï¼Œå­˜æ”¾é€‰ä¸­çš„tripï¼Œ
        PriorityQueue<int[]> minHeap = new PriorityQueue<>((a,b) -> a[2] - b[2]);

        int occupied = 0;

        for(int stop = 0; stop <= lastStop; stop++){
            //å…ˆå¼¹å‡ºæ‰€æœ‰åˆ°ç«™çš„ç”¨æˆ·
            while(!minHeap.isEmpty() && minHeap.peek()[2] <= stop){
               
                occupied -= minHeap.poll()[0];
            }
            List<int[]> tripsStarted = startMap.getOrDefault(stop, new ArrayList<>());
           
            for(int[] trip : tripsStarted){
                if(occupied + trip[0] > capacity){
                    return false;
                }
                occupied += trip[0];
                minHeap.offer(trip);
            }
        }
        return true;
    }
}
```



## åŒºé—´æ’åºï¼šæŒ‰ç…§å¼€å§‹æ—¶é—´è¿˜æ˜¯ç»“æŸæ—¶é—´ï¼Ÿ

###ä»€ä¹ˆæ—¶å€™æŒ‰ç…§åŒºé—´ç»ˆç‚¹æ’åºï¼Ÿ

- ä¸é‡å çš„åŒºé—´æœ€å¤§æ•°
- æœ€å¤šèƒ½å¤Ÿå‚åŠ çš„ä¼šè®®æ•°é‡
- æœ€å°‘å¼“ç®­æ•°

####ä¸ºä»€ä¹ˆé€‰æ‹©ç»ˆç‚¹æ’åºï¼Ÿ-ä¼˜å…ˆé€‰æ‹©æœ€æ—©ç»“æŸçš„

- èƒ½ä¸ºååºç•™ä¸‹æ›´å¤šé€‰æ‹©ç©ºé—´
- æ›´å®¹æ˜“å’Œå…¶ä»–åŒºé—´é”™å¼€å’Œå…¼å®¹

###ä»€ä¹ˆæ—¶å€™æŒ‰ç…§åŒºé—´èµ·ç‚¹æ’åºï¼Ÿ

ä½ å¸Œæœ›ä»å¼€å§‹æœ€æ—©çš„åŒºé—´å‡ºå‘ï¼Œé€æ­¥æ‰©å±•æˆ–è€…ä½œåˆ¤æ–­

å¸¸ç”¨äºï¼š

- **åˆå¹¶åŒºé—´**ï¼Œéœ€è¦**ä»å‰å¾€å**åˆå¹¶åŒºé—´
- **æœ€å°åŒºé—´æ•°è¦†ç›–æŸä¸ªåŒºé—´æˆ–è€…ç‚¹**
- **èµ·ç‚¹æ¨è¿›åŒºé—´è¦†ç›–çš„é—®é¢˜**

####ä¸ºä»€ä¹ˆé€‰æ‹©èµ·ç‚¹æ’åºï¼Ÿ-æ¯æ¬¡éƒ½éœ€è¦çŸ¥é“ç°åœ¨å¼€å§‹çš„åŒºé—´æœ‰å“ªäº›ï¼Ÿ

å› ä¸ºä½ ä»å‰å¾€åæ¨è¿›ï¼Œæ¯æ¬¡éƒ½è¦çŸ¥é“â€œç°åœ¨èƒ½å¼€å§‹çš„åŒºé—´æœ‰å“ªäº›â€ï¼Œæˆ–è€…è¿›è¡Œåˆå¹¶ã€‚

### Leetcode 1094: [Car Pooling](https://leetcode.com/problems/car-pooling/)

There is a car with `capacity` empty seats. The vehicle only drives east (i.e., it cannot turn around and drive west).

You are given the integer `capacity` and an array `trips` where `trips[i] = [numPassengersi, fromi, toi]` indicates that the `ith` trip has `numPassengersi` passengers and the locations to pick them up and drop them off are `fromi` and `toi` respectively. The locations are given as the number of kilometers due east from the car's initial location.

Return `true` *if it is possible to pick up and drop off all passengers for all the given trips, or* `false` *otherwise*.

#### æ ¸å¿ƒæ€æƒ³å’Œå¥—è·¯

ä¸è¯¾ç¨‹é€‰æ‹©çš„é—®é¢˜æœ‰äº›ç±»ä¼¼ã€‚

##### æ‰¾åˆ°æœ€åä¸€ç«™

æˆ‘ä»¬éœ€è¦æ‰¾åˆ°æ‰€æœ‰çš„æ—…è¡Œä¸­ï¼Œæœ€åçš„ä¸€ç«™ã€‚

##### éå†æ‰€æœ‰çš„ç«™ - è¯¥ä¸‹è½¦çš„ä¸‹è½¦ï¼Œè¯¥ä¸Šè½¦çš„ä¸Šè½¦

æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ª**å°é¡¶å †**æ¥ç»´æŠ¤å·²ç»åœ¨è½¦ä¸Šçš„ä¹˜å®¢å’Œä»–ä»¬çš„ç›®çš„åœ°ã€‚

å°é¡¶å †æŒ‰ç…§å½¢æˆçš„ç›®çš„åœ°è¿›è¡Œæ’åºï¼Œè¿™æ ·æœ€æ—©ç»“æŸçš„æ€»æ˜¯åœ¨å †é¡¶ã€‚

##### åˆ°ç«™äº†ï¼šä¸‹è½¦å’Œä¸Šè½¦

###### å…ˆè®©è¯¥ä¸‹è½¦çš„ä¸‹è½¦

å¯¹äºé¡¶å †æ‰€æœ‰åˆ°ç«™çš„å½¢æˆï¼Œè®©ä»–ä»¬ä¸‹è½¦ã€‚

æ¯ä¸€ä¸ªå½¢æˆç»“æŸï¼Œ`occupied -= trip[0]`ã€‚

###### å°è¯•è®©è¯¥ä¸Šè½¦çš„ä¸Šè½¦

æˆ‘ä»¬æ‰¾åˆ°å§‹å‘ç«™ä¸ºå½“å‰ç«™çš„è¡Œç¨‹ã€‚

å¯¹äºæ¯ä¸€ä¸ªæ‰¾åˆ°çš„è¡Œç¨‹ï¼Œæ£€æŸ¥ä»–ä»¬èƒ½ä¸èƒ½ä¸Šè½¦(`occupied + trip[0] > capacity`)ã€‚

- å¦‚æœä¸èƒ½ï¼Œç›´æ¥è¿”å›`false`
- å¦‚æœå¯ä»¥ï¼Œä¸Šè½¦ï¼ˆåŠ å…¥æœ€å°å †ï¼‰ï¼Œå¹¶æ›´æ–°`occupied`

#### å®ç°ä»£ç 

```Java
class Solution {
    public boolean carPooling(int[][] trips, int capacity) {
        //æŒ‰ç…§å¼€å§‹æ—¶é—´æ’åº
        Arrays.sort(trips,(a,b) -> a[1] - b[1]);
        //æ‰¾åˆ°æœ€åä¸€ä¸ªç«™ç‚¹
        int lastStop = 0;
        Map<Integer, List<int[]>> startMap = new HashMap<>();

        for(int[] trip : trips){
            lastStop = Math.max(lastStop,trip[2]);
            startMap.putIfAbsent(trip[1], new ArrayList<>());
            startMap.get(trip[1]).add(trip);
        }
        
        //æœ€å°å †ï¼Œå­˜æ”¾é€‰ä¸­çš„tripï¼Œ
        PriorityQueue<int[]> minHeap = new PriorityQueue<>((a,b) -> a[2] - b[2]);

        int occupied = 0;

        for(int stop = 0; stop <= lastStop; stop++){
            System.out.println("Now we are on stop:"+stop);
            
            //å…ˆå¼¹å‡ºæ‰€æœ‰åˆ°ç«™çš„ç”¨æˆ·
            while(!minHeap.isEmpty() && minHeap.peek()[2] <= stop){
               
                occupied -= minHeap.poll()[0];
            }
            List<int[]> tripsStarted = startMap.getOrDefault(stop, new ArrayList<>());
           
            for(int[] trip : tripsStarted){
                if(occupied + trip[0] > capacity){
                    return false;
                }
                occupied += trip[0];
                minHeap.offer(trip);
            }
        }
        return true;

    }
}
```

## //todo åŒºé—´ç±»é—®é¢˜æ€»ç»“

åŠ¨æ€è§„åˆ’è¿˜æ˜¯è´ªå¿ƒï¼Ÿè¿˜æ˜¯å…¶ä»–æ–¹æ³•ï¼Ÿ
