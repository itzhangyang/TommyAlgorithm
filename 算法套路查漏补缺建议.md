# 算法套路查漏补缺建议

## 一、组织结构不合理的地方

### 1. 前缀和与差分数组应该放在一起 ⭐⭐⭐
**问题**：
- 前缀和：`1_数组与字符串/2_常见问题场景和应对方法/1_求数组子区间和_前缀数组.md`
- 差分数组：`1_数组与字符串/1_常见算法套路.md` 中（约3500行处）
- `19_扫描线和差分数组.md` 文件是空的

**建议**：
- 创建独立章节 `15_前缀和与差分数组/`，将两者合并
- 前缀和和差分数组是互逆操作，放在一起更便于理解
- 可以包含：
  - 前缀和基础与应用
  - 差分数组基础与应用
  - 二维前缀和与二维差分
  - 扫描线算法（与差分数组密切相关）

### 2. 扫描线算法内容分散 ⭐⭐
**问题**：
- 扫描线算法在 `5_二叉树/1_二叉树的类型和数据结构.md` 中（天际线问题）
- `19_扫描线和差分数组.md` 文件是空的
- 扫描线是独立的重要算法，不应该只作为某个题目的解法

**建议**：
- 在 `15_前缀和与差分数组/` 中增加扫描线算法章节
- 或者创建独立章节 `15_扫描线算法/`
- 包含：一维扫描线、二维扫描线、事件点处理、TreeMap/PriorityQueue维护状态

### 3. 双指针和滑动窗口内容分散 ⭐⭐
**问题**：
- 双指针和滑动窗口在多个文件中都有涉及
- `1_数组与字符串/2_常见问题场景和应对方法/2_最大_最小连续子结构_滑动窗口.md`
- 但双指针作为独立技巧没有统一章节

**建议**：
- 在 `1_数组与字符串/1_常见算法套路.md` 中应该有双指针的专门章节
- 或者创建 `1_数组与字符串/1_常见算法套路/双指针.md`
- 明确区分：同向双指针、相向双指针、快慢指针、滑动窗口

### 4. 数学相关内容分散 ⭐
**问题**：
- `12_数学与二进制/` 目录存在
- `17_数学与位运算.md` 文件也存在
- 内容可能有重复

**建议**：
- 统一到 `12_数学与二进制/` 目录下
- 或者明确区分：基础数学在 `12_数学与二进制/数学/`，位运算在 `12_数学与二进制/二进制/`

## 二、遗漏的有用套路

### 1. 树状数组（Fenwick Tree / Binary Indexed Tree）⭐⭐⭐
**现状**：只在 `12_数学与二进制/二进制/1_二进制运算的基础知识.md` 中提到了 `lowbit` 操作与树状数组的关系，但没有详细实现和模板

**重要性**：高频面试题，用于解决动态区间和查询问题

**建议内容**：
- 树状数组的原理（利用lowbit操作）
- 单点更新、区间查询模板
- 应用场景：逆序对、动态排名、区间和查询
- 与线段树的对比

**推荐位置**：`18_复合数据结构设计/` 或新建 `21_高级数据结构/`

### 2. 线段树（Segment Tree）⭐⭐⭐
**现状**：在多处提到但无详细实现

**重要性**：解决区间查询和区间更新的经典数据结构

**建议内容**：
- 线段树的基本原理和构建
- 区间查询、单点更新、区间更新
- 懒标记（Lazy Propagation）
- 应用场景：区间最值、区间和、区间修改

**推荐位置**：与树状数组放在一起 `21_高级数据结构/`

### 3. 摩尔投票法（Boyer-Moore Majority Vote Algorithm）⭐⭐
**现状**：未找到相关内容

**重要性**：O(n)时间O(1)空间找多数元素，非常巧妙的算法

**建议内容**：
- 算法原理（抵消思想）
- 找多数元素（超过n/2）
- 找两个多数元素（超过n/3）
- 扩展应用

**推荐位置**：`1_数组与字符串/1_常见算法套路.md` 或 `12_数学与二进制/数学/`

### 4. 离散化/坐标压缩（Coordinate Compression）⭐⭐
**现状**：在扫描线问题中用到但未单独讲解

**重要性**：将大范围坐标映射到小范围，是很多算法的预处理步骤

**建议内容**：
- 离散化的原理和步骤
- 去重+排序+二分查找映射
- 应用场景：扫描线、树状数组、线段树

**推荐位置**：`15_前缀和与差分数组/` 或 `12_数学与二进制/数学/`

### 5. 字符串哈希（Rabin-Karp）⭐⭐
**现状**：在 `1_数组与字符串/1_常见算法套路.md` 和 `14_字符串搜索匹配算法.md` 中只提到名字

**重要性**：快速字符串匹配，滚动哈希思想

**建议内容**：
- 滚动哈希原理
- 字符串哈希模板
- 应用：字符串匹配、最长回文子串、字符串去重

**推荐位置**：`14_字符串搜索匹配算法.md` 中补充

### 6. 蓄水池算法（Reservoir Sampling）⭐
**现状**：未找到相关内容

**重要性**：从数据流中随机采样，经典概率算法

**建议内容**：
- 算法原理（概率证明）
- 从无限流中随机选k个元素
- 应用场景：大数据流采样

**推荐位置**：`专题训练/` 或 `12_数学与二进制/数学/`

### 7. 倍增算法（Binary Lifting）⭐
**现状**：未找到相关内容

**重要性**：快速求LCA、树上k级祖先等

**建议内容**：
- 倍增思想
- LCA（最近公共祖先）的倍增解法
- 树上k级祖先

**推荐位置**：`5_二叉树/` 或 `6_图/`

### 8. 逆序对详细讲解 ⭐
**现状**：`11_排序.md` 中有归并排序，但逆序对作为应用场景可能不够详细

**建议**：
- 在 `11_排序.md` 中补充逆序对问题的详细讲解
- 包含：归并排序统计逆序对、树状数组统计逆序对

### 9. 分块算法（Square Root Decomposition）⭐
**现状**：未找到相关内容

**重要性**：介于暴力与高级数据结构之间的折中方案

**建议内容**：
- 分块思想
- 区间查询、区间更新
- 应用场景：莫队算法的基础

**推荐位置**：`21_高级数据结构/` 或 `专题训练/`

### 10. 随机化算法 ⭐
**现状**：未找到相关内容

**重要性**：某些问题的随机化解法很巧妙

**建议内容**：
- 随机化快速排序
- 随机化选择算法
- 随机化哈希（布隆过滤器相关）

**推荐位置**：`专题训练/` 或 `12_数学与二进制/数学/`

## 三、优先级建议

### 高优先级（必须补充）⭐⭐⭐
1. **树状数组** - 面试高频
2. **线段树** - 面试高频
3. **前缀和与差分数组整合** - 组织结构优化
4. **摩尔投票法** - 经典且巧妙

### 中优先级（建议补充）⭐⭐
5. **扫描线算法独立章节** - 重要算法
6. **离散化/坐标压缩** - 常用预处理
7. **字符串哈希（Rabin-Karp）** - 补充详细内容
8. **逆序对详细讲解** - 完善现有内容

### 低优先级（可选补充）⭐
9. **蓄水池算法** - 特定场景
10. **倍增算法** - 特定场景
11. **分块算法** - 特定场景
12. **随机化算法** - 特定场景

## 四、具体实施建议

### 1. 创建新目录结构
```
15_前缀和与差分数组/
  ├── 1_前缀和基础与应用.md
  ├── 2_差分数组基础与应用.md
  ├── 3_二维前缀和与差分.md
  └── 4_扫描线算法.md

21_高级数据结构/
  ├── 1_树状数组.md
  ├── 2_线段树.md
  └── 3_分块算法.md
```

### 2. 补充现有文件
- `14_字符串搜索匹配算法.md` - 补充Rabin-Karp详细内容
- `11_排序.md` - 补充逆序对详细讲解
- `1_数组与字符串/1_常见算法套路.md` - 补充摩尔投票法

### 3. 整合分散内容
- 将前缀和和差分数组相关内容整合到新目录
- 将扫描线相关内容整合到新目录
- 统一数学相关内容的位置

## 五、其他建议

1. **双指针统一**：建议在 `1_数组与字符串/1_常见算法套路.md` 开头或独立章节明确列出双指针的各种变种
2. **图算法完整性**：检查是否所有重要图算法都已覆盖（如：Floyd-Warshall、A*算法等）
3. **动态规划优化**：考虑补充DP优化技巧（如：斜率优化、四边形不等式等，虽然较难但值得了解）
4. **数学知识补充**：考虑补充组合数学、数论基础（如：快速幂模、扩展欧几里得、中国剩余定理等）



